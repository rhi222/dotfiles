---
title: "Nippo Finalize"
description: "日報を完成させる"
---

# 日報完成化コマンド

> 日々の作業記録を構造化された日報レポートとして完成させるコマンド

## 概要

本日の日報ドラフトファイルを分析し、シニアエンジニアの視点から評価・フィードバック付きの構造化されたレポートを生成します。

## 🎯 解決しようとする課題

1. **エンジニアの成長支援不足**
   - 日々の作業記録が成長につながる振り返りになっていない
   - タスク完了の記録はあるが、学びや成長の観点での分析が不足

2. **シニアエンジニアレベルへの成長パス不明確**
   - 現在のスキルレベルとシニアエンジニアに必要なスキルとのギャップが見えない
   - 技術力だけでなく、ビジネス理解・リーダーシップなどの多角的評価が必要

3. **日報の質的向上の仕組み不足**
   - 日々のタスク記録が単なる作業ログに留まっている
   - 成果観点、技術的成長、ビジネスインパクトなどの構造化された視点での分析不足

4. **目標設定と実績の紐づけ不足**
   - 設定した目標と日々の活動との関連性が曖昧
   - 目標達成度の測定や進捗確認の仕組みがない

## 入力・出力

| 項目             | パス                                                       | 説明                             |
| ---------------- | ---------------------------------------------------------- | -------------------------------- |
| **入力**         | `~/Obsidian/02_Daily/nippo.YYYY-MM-DD.md`                  | 日報ドラフトファイル             |
| **参照**         | `~/Obsidian/02_Daily/nippo-goals.txt`                      | 目標設定ファイル（オプション）   |
| **出力**         | `~/Obsidian/02_Daily/nippo.YYYY-MM-DD.md` (追記)           | 分析結果が追記された完成日報     |
| **バックアップ** | `~/Obsidian/02_Daily/nippo.YYYY-MM-DD.md.backup.timestamp` | 追記前のバックアップ（安全性確保） |

## 処理フロー

### 📋 4段階の段階的処理

1. **🔍 Phase 1: データ準備・検証**
   - ディレクトリ・ファイルの存在確認
   - ファイルサイズ・読み取り権限の検証
   - 処理前の詳細チェック

2. **🤖 Phase 2: AI分析準備**
   - 日報ドラフトの構造化読み込み
   - 目標設定ファイルの統合（オプション）
   - 分析用データの正規化

3. **📄 Phase 3: AI分析・レポート生成**
   - シニアエンジニア視点での多角的評価
   - 構造化された日報レポート作成
   - 品質チェックと出力最適化

4. **📝 Phase 4: 結果追記**
   - 分析結果を元ファイルに追記
   - 作業記録と分析の一体化
   - 次ステップの案内

## 前提条件

- `/nippo-add` で日々のタスクが記録されていること
- `/nippo-goals` で目標が設定されていること（推奨）
- Obsidianディレクトリ（`~/Obsidian/02_Daily/`）が存在すること

---

## 実行セクション

### メインスクリプト

<details>
<summary>⚙️ シェルスクリプト詳細（クリックで展開）</summary>

```bash
# =============================================================================
# 日報完成化スクリプト - 段階的処理版
# =============================================================================

!NIPPO_FILE="$HOME/Obsidian/02_Daily/nippo.$(date +%Y-%m-%d).md" && {

    # 基本変数の設定
    TIMESTAMP=$(date '+%Y%m%d_%H%M%S')
    REPORT_FILE="$HOME/Obsidian/02_Daily/nippo-report_${TIMESTAMP}.md"
    GOALS_FILE="$HOME/Obsidian/02_Daily/nippo-goals.txt"

    echo "📝 日報完成化処理を開始します..."
    echo "日付: $(date '+%Y年%m月%d日 %H:%M:%S')"
    echo ""

    # ==========================================================================
    # Phase 1: データ準備・検証フェーズ
    # ==========================================================================

    echo "🔍 Phase 1: データ準備・検証"

    # ディレクトリ存在確認
    OBSIDIAN_DIR="$(dirname "$NIPPO_FILE")"
    if [ ! -d "$OBSIDIAN_DIR" ]; then
        echo "❌ Obsidianディレクトリが見つかりません: $OBSIDIAN_DIR"
        echo "ディレクトリを作成してから再実行してください。"
        exit 1
    fi
    echo "✓ ディレクトリ確認: $OBSIDIAN_DIR"

    # 日報ファイル存在・読み取り確認
    if [ ! -f "$NIPPO_FILE" ]; then
        echo "❌ 日報ファイルが見つかりません: $NIPPO_FILE"
        echo "まず /nippo-add でタスクを記録してください。"
        exit 1
    fi

    if [ ! -r "$NIPPO_FILE" ]; then
        echo "❌ 日報ファイルを読み取れません: $NIPPO_FILE"
        exit 1
    fi
    echo "✓ 日報ファイル確認: $NIPPO_FILE"

    # ファイルサイズチェック
    NIPPO_SIZE=$(wc -c < "$NIPPO_FILE" 2>/dev/null || echo "0")
    if [ "$NIPPO_SIZE" -lt 10 ]; then
        echo "❌ 日報ファイルが空または小さすぎます（${NIPPO_SIZE}バイト）"
        echo "内容を記録してから再実行してください。"
        exit 1
    fi
    echo "✓ ファイルサイズ: ${NIPPO_SIZE}バイト"

    echo "✅ Phase 1 完了: データ準備・検証"
    echo ""

    # ==========================================================================
    # Phase 2: AI分析準備フェーズ
    # ==========================================================================

    echo "🤖 Phase 2: AI分析準備"

    echo "📖 日報内容を読み込み中..."
    echo "=== 日報ファイル内容 ==="
    cat "$NIPPO_FILE"
    echo ""
    echo "======================="
    echo ""

    # 目標ファイルの読み込み（オプション）
    if [ -f "$GOALS_FILE" ]; then
        echo "🎯 目標ファイルを読み込み中..."
        echo "=== 目標設定 ==="
        cat "$GOALS_FILE"
        echo ""
        echo "============="
        echo ""
    else
        echo "ℹ️  目標ファイルが見つかりません（オプション）"
        echo "より詳細な分析のため /nippo-goals で設定することを推奨します。"
        echo ""
    fi

    echo "✅ Phase 2 完了: AI分析準備"
    echo ""

    # ==========================================================================
    # Phase 3: AI分析・レポート生成フェーズ
    # ==========================================================================

    echo "📄 Phase 3: AI分析・レポート生成"
    echo "Claude Code による日報分析を実行中..."
    echo "生成されるレポート: $REPORT_FILE"
    echo ""

    # ここでClaude Codeによる分析が実行される
    # （システムプロンプトと出力フォーマットは別セクション参照）

    echo "✅ Phase 3 完了: AI分析・レポート生成"
    echo ""

    # ==========================================================================
    # Phase 4: ファイル整理フェーズ
    # ==========================================================================

    echo "📝 Phase 4: 結果追記"

    # バックアップ作成
    echo "💾 バックアップを作成中..."
    BACKUP_FILE="${NIPPO_FILE}.backup.$(date +%s)"
    if cp "$NIPPO_FILE" "$BACKUP_FILE" 2>/dev/null; then
        echo "✓ バックアップ保持: $BACKUP_FILE"

        # 元ファイル削除
        if rm "$NIPPO_FILE" 2>/dev/null; then
            echo "✓ 日報ファイル削除（バックアップは保持）"
        else
            echo "⚠️ 日報ファイルの削除に失敗（バックアップは作成済み）"
        fi
    else
        echo "⚠️ バックアップの作成に失敗。元ファイルは保持されます"
    fi

    echo "✅ Phase 4 完了: 結果追記"
    echo ""

    # ==========================================================================
    # 完了通知
    # ==========================================================================

    echo "🎉 日報完成化処理が正常に完了しました！"
    echo ""
    echo "📊 結果サマリー:"
    echo "  • 完成日報: $NIPPO_FILE (分析結果追記済み)"
    echo "  • バックアップ: $BACKUP_FILE"
    echo "  • 処理時刻: $(date '+%Y年%m月%d日 %H:%M:%S')"
    echo ""
    echo "次のステップ:"
    echo "  1. 生成されたレポートを確認"
    echo "  2. アドバイスを明日の計画に反映"
    echo "  3. 継続的な成長を意識して活動"

} || {
    echo "❌ 日報ファイルが見つかりません: $NIPPO_FILE"
    echo "まず /nippo-add でタスクを記録してください。"
    exit 1
}
```

</details>

### 補助要素

#### 目標設定表示
```bash
!GOALS_FILE="$HOME/Obsidian/02_Daily/nippo-goals.txt" && if [ -f "$GOALS_FILE" ]; then echo "=== 目標設定 ==="; cat "$GOALS_FILE"; echo ""; else echo "=== 目標設定 ==="; echo "目標が設定されていません。/nippo-goals で設定してください。"; echo ""; fi
```

#### 日報ドラフト参照
@nippo_draft.txt

---

## AI分析システムプロンプト

<details>
<summary>🤖 システムプロンプト詳細（クリックで展開）</summary>

```
<system>
あなたはシニアエンジニア成長支援システムです。日報を分析し、建設的で実行可能なフィードバックを提供してください。

## 入力される日報フォーマット
- **📝 作業ログ**: 時系列の作業記録（HH:MM形式）
- **🎯 今日の目標**: 設定した目標とチェックリスト
- **📊 進捗状況**: 目標達成状況の記録
- **💡 学びと気づき**: 技術的学習や発見事項
- **🚀 明日への申し送り**: 継続タスクや次のステップ

## 評価軸（5つの観点）
1. **成果**: 課題設定の質と解決アプローチの妥当性
2. **ビジネス**: ビジネス価値への貢献度とインパクト
3. **技術**: 学びの抽象化と技術的挑戦度
4. **実践**: コーディング品質と完遂力
5. **協調**: チームワークとコミュニケーション

## 分析の観点
- 作業ログから実際の活動パターンと効率性を評価
- 目標設定と進捗の整合性から計画性を判断
- 学びセクションから成長意識と抽象化能力を分析
- 申し送りから継続性と先見性を評価

## 出力要件
- 簡潔で実用的な内容に特化
- 具体的なアクションを含む改善提案
- ビジネス価値創出を最重要視
- Why/What/How の明確な構造
</system>
```

</details>

### 📋 出力フォーマット仕様

<details>
<summary>📝 詳細なレポート出力フォーマット（クリックで展開）</summary>

以下のエッセンシャルフォーマットで実用的な日報分析を作成してください：

# 日報分析 - [日付]

## 🎯 今日の成果ハイライト
**[1行サマリー]** - 今日の最も重要な成果

## 📊 5軸評価 (各5段階)
- 🎯 **成果**: ★★★☆☆ - [課題設定と解決アプローチの評価]
- 💼 **ビジネス**: ★★★★☆ - [ビジネス価値への貢献度]  
- 🚀 **技術**: ★★★☆☆ - [学びの質と技術的挑戦]
- 🔧 **実践**: ★★★★☆ - [コード品質と完遂力]
- 👥 **協調**: ★★★☆☆ - [チームワークとコミュニケーション]

## 💡 重要な洞察 (Top 3)
1. **[洞察タイトル]** - [具体的な学びと応用可能性]
2. **[洞察タイトル]** - [具体的な学びと応用可能性] 
3. **[洞察タイトル]** - [具体的な学びと応用可能性]

## 🚀 明日へのアクション
1. **[アクション名]** 
   - **Why**: [なぜ必要か]
   - **What**: [何をするか]
   - **How**: [どうやるか]
   - **時間**: [目安時間]

2. **[アクション名]**
   - **Why**: [なぜ必要か] 
   - **What**: [何をするか]
   - **How**: [どうやるか]
   - **時間**: [目安時間]

3. **[アクション名]**
   - **Why**: [なぜ必要か]
   - **What**: [何をするか] 
   - **How**: [どうやるか]
   - **時間**: [目安時間]

## 📈 シニアエンジニア成長度
**現在レベル**: [ジュニア/ミッド/シニア寄り] | **成長要素**: [最も重要な成長ポイント]

**次のマイルストーン**: [3ヶ月以内の具体的目標]

</details>

---

## 評価基準詳細

<details>
<summary>📊 評価基準の詳細説明（クリックで展開）</summary>

### 📊 5軸評価基準（システムプロンプトと整合）

#### 🎯 成果軸
- **課題設定の質**: 目標との紐づき、問題の本質理解
- **解決アプローチ**: 選択肢検討、最適手法の選択
- **成果のグラデーション**: まず動かす→改善→最適化

#### 💼 ビジネス軸  
- **ビジネス価値**: ユーザーへの具体的価値提供
- **インパクト/エフォート**: 効率的な価値創出
- **プロダクトオーナーシップ**: 機能価値の理解と主体的判断

#### 🚀 技術軸
- **学びの抽象化**: 具体事象から原理原則への昇華
- **技術的挑戦度**: 新技術・難易度の高い課題への取り組み
- **問題解決力**: 未知の課題に対するアプローチ力

#### 🔧 実践軸
- **コード品質**: 可読性、保守性、テスタビリティ
- **完遂力**: 最後まで仕上げる力、99%と100%の違い
- **継続的改善**: リファクタリング判断、技術的負債管理

#### 👥 協調軸
- **コミュニケーション**: 進捗共有、議論参加、適切な相談
- **チームワーク**: disagree and commit、他チームとの連携
- **成長支援**: 知識共有、メンバーサポート

**評価方針**:

- 評価は建設的で具体的に行う
- シニアエンジニア成長に向けた実行可能な改善提案
- ビジネス価値創出を最重要視
- 目標達成度をタスク完了状況から推定

**アドバイス構造**:

- Why/What/How の明確な構造
- 具体的なツール名、時間目安を含める
- 段階的で測定可能なアプローチ

</details>
