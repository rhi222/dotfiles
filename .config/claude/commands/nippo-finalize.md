---
title: "Nippo Finalize"
description: "日報を完成させる"
---

# 日報完成化コマンド

> 日々の作業記録を構造化された日報レポートとして完成させるコマンド

## 概要

本日の日報ドラフトファイルを分析し、シニアエンジニアの視点から評価・フィードバック付きの構造化されたレポートを生成します。

## 🎯 解決しようとする課題

1. **エンジニアの成長支援不足**
   - 日々の作業記録が成長につながる振り返りになっていない
   - タスク完了の記録はあるが、学びや成長の観点での分析が不足

2. **シニアエンジニアレベルへの成長パス不明確**
   - 現在のスキルレベルとシニアエンジニアに必要なスキルとのギャップが見えない
   - 技術力だけでなく、ビジネス理解・リーダーシップなどの多角的評価が必要

3. **日報の質的向上の仕組み不足**
   - 日々のタスク記録が単なる作業ログに留まっている
   - 成果観点、技術的成長、ビジネスインパクトなどの構造化された視点での分析不足

4. **目標設定と実績の紐づけ不足**
   - 設定した目標と日々の活動との関連性が曖昧
   - 目標達成度の測定や進捗確認の仕組みがない

## 入力・出力

| 項目             | パス                                                       | 説明                             |
| ---------------- | ---------------------------------------------------------- | -------------------------------- |
| **入力**         | `~/Obsidian/02_Daily/nippo.YYYY-MM-DD.md`                  | 日報ドラフトファイル             |
| **参照**         | `~/Obsidian/02_Daily/nippo-goals.txt`                      | 目標設定ファイル（オプション）   |
| **出力**         | `~/Obsidian/02_Daily/nippo-report_YYYYMMDD_HHMMSS.md`      | 完成された日報レポート           |
| **バックアップ** | `~/Obsidian/02_Daily/nippo.YYYY-MM-DD.md.backup.timestamp` | 元ファイルのバックアップ（保持） |

## 処理フロー

### 📋 4段階の段階的処理

1. **🔍 Phase 1: データ準備・検証**
   - ディレクトリ・ファイルの存在確認
   - ファイルサイズ・読み取り権限の検証
   - 処理前の詳細チェック

2. **🤖 Phase 2: AI分析準備**
   - 日報ドラフトの構造化読み込み
   - 目標設定ファイルの統合（オプション）
   - 分析用データの正規化

3. **📄 Phase 3: AI分析・レポート生成**
   - シニアエンジニア視点での多角的評価
   - 構造化された日報レポート作成
   - 品質チェックと出力最適化

4. **🗂️ Phase 4: ファイル整理**
   - バックアップ保持と元ファイル削除
   - 処理結果の詳細サマリー表示
   - 次ステップの案内

## 前提条件

- `/nippo-add` で日々のタスクが記録されていること
- `/nippo-goals` で目標が設定されていること（推奨）
- Obsidianディレクトリ（`~/Obsidian/02_Daily/`）が存在すること

---

## スクリプト実行部

```bash
# =============================================================================
# 日報完成化スクリプト - 段階的処理版
# =============================================================================

!NIPPO_FILE="$HOME/Obsidian/02_Daily/nippo.$(date +%Y-%m-%d).md" && {

    # 基本変数の設定
    TIMESTAMP=$(date '+%Y%m%d_%H%M%S')
    REPORT_FILE="$HOME/Obsidian/02_Daily/nippo-report_${TIMESTAMP}.md"
    GOALS_FILE="$HOME/Obsidian/02_Daily/nippo-goals.txt"

    echo "📝 日報完成化処理を開始します..."
    echo "日付: $(date '+%Y年%m月%d日 %H:%M:%S')"
    echo ""

    # ==========================================================================
    # Phase 1: データ準備・検証フェーズ
    # ==========================================================================

    echo "🔍 Phase 1: データ準備・検証"

    # ディレクトリ存在確認
    OBSIDIAN_DIR="$(dirname "$NIPPO_FILE")"
    if [ ! -d "$OBSIDIAN_DIR" ]; then
        echo "❌ Obsidianディレクトリが見つかりません: $OBSIDIAN_DIR"
        echo "ディレクトリを作成してから再実行してください。"
        exit 1
    fi
    echo "✓ ディレクトリ確認: $OBSIDIAN_DIR"

    # 日報ファイル存在・読み取り確認
    if [ ! -f "$NIPPO_FILE" ]; then
        echo "❌ 日報ファイルが見つかりません: $NIPPO_FILE"
        echo "まず /nippo-add でタスクを記録してください。"
        exit 1
    fi

    if [ ! -r "$NIPPO_FILE" ]; then
        echo "❌ 日報ファイルを読み取れません: $NIPPO_FILE"
        exit 1
    fi
    echo "✓ 日報ファイル確認: $NIPPO_FILE"

    # ファイルサイズチェック
    NIPPO_SIZE=$(wc -c < "$NIPPO_FILE" 2>/dev/null || echo "0")
    if [ "$NIPPO_SIZE" -lt 10 ]; then
        echo "❌ 日報ファイルが空または小さすぎます（${NIPPO_SIZE}バイト）"
        echo "内容を記録してから再実行してください。"
        exit 1
    fi
    echo "✓ ファイルサイズ: ${NIPPO_SIZE}バイト"

    echo "✅ Phase 1 完了: データ準備・検証"
    echo ""

    # ==========================================================================
    # Phase 2: AI分析準備フェーズ
    # ==========================================================================

    echo "🤖 Phase 2: AI分析準備"

    echo "📖 日報内容を読み込み中..."
    echo "=== 日報ファイル内容 ==="
    cat "$NIPPO_FILE"
    echo ""
    echo "======================="
    echo ""

    # 目標ファイルの読み込み（オプション）
    if [ -f "$GOALS_FILE" ]; then
        echo "🎯 目標ファイルを読み込み中..."
        echo "=== 目標設定 ==="
        cat "$GOALS_FILE"
        echo ""
        echo "============="
        echo ""
    else
        echo "ℹ️  目標ファイルが見つかりません（オプション）"
        echo "より詳細な分析のため /nippo-goals で設定することを推奨します。"
        echo ""
    fi

    echo "✅ Phase 2 完了: AI分析準備"
    echo ""

    # ==========================================================================
    # Phase 3: AI分析・レポート生成フェーズ
    # ==========================================================================

    echo "📄 Phase 3: AI分析・レポート生成"
    echo "Claude Code による日報分析を実行中..."
    echo "生成されるレポート: $REPORT_FILE"
    echo ""

    # ここでClaude Codeによる分析が実行される
    # （システムプロンプトと出力フォーマットは別セクション参照）

    echo "✅ Phase 3 完了: AI分析・レポート生成"
    echo ""

    # ==========================================================================
    # Phase 4: ファイル整理フェーズ
    # ==========================================================================

    echo "🗂️ Phase 4: ファイル整理"

    # バックアップ作成
    echo "💾 バックアップを作成中..."
    BACKUP_FILE="${NIPPO_FILE}.backup.$(date +%s)"
    if cp "$NIPPO_FILE" "$BACKUP_FILE" 2>/dev/null; then
        echo "✓ バックアップ保持: $BACKUP_FILE"

        # 元ファイル削除
        if rm "$NIPPO_FILE" 2>/dev/null; then
            echo "✓ 日報ファイル削除（バックアップは保持）"
        else
            echo "⚠️ 日報ファイルの削除に失敗（バックアップは作成済み）"
        fi
    else
        echo "⚠️ バックアップの作成に失敗。元ファイルは保持されます"
    fi

    echo "✅ Phase 4 完了: ファイル整理"
    echo ""

    # ==========================================================================
    # 完了通知
    # ==========================================================================

    echo "🎉 日報完成化処理が正常に完了しました！"
    echo ""
    echo "📊 結果サマリー:"
    echo "  • 入力ファイル: $NIPPO_FILE"
    echo "  • 出力レポート: $REPORT_FILE"
    echo "  • バックアップ: $BACKUP_FILE"
    echo "  • 処理時刻: $(date '+%Y年%m月%d日 %H:%M:%S')"
    echo ""
    echo "次のステップ:"
    echo "  1. 生成されたレポートを確認"
    echo "  2. アドバイスを明日の計画に反映"
    echo "  3. 継続的な成長を意識して活動"

} || {
    echo "❌ 日報ファイルが見つかりません: $NIPPO_FILE"
    echo "まず /nippo-add でタスクを記録してください。"
    exit 1
}
```

---

## 目標設定表示

```bash
!GOALS_FILE="$HOME/Obsidian/02_Daily/nippo-goals.txt" && if [ -f "$GOALS_FILE" ]; then echo "=== 目標設定 ==="; cat "$GOALS_FILE"; echo ""; else echo "=== 目標設定 ==="; echo "目標が設定されていません。/nippo-goals で設定してください。"; echo ""; fi
```

---

## 日報ドラフト参照

@nippo_draft.txt

---

## AI分析システムプロンプト

<details>
<summary>🤖 システムプロンプト詳細（クリックで展開）</summary>

```
<system>
あなたは日報分析システムです。ユーザーの日々の活動記録を分析し、成果観点、技術的成長観点、ビジネスインパクト観点、エンジニアリング成熟度、コラボレーション観点から評価とフィードバックを提供します。シニアエンジニアへの成長を支援することを目的としています。

上記の目標設定と日報ドラフトの内容を参考に、目標達成度も評価に含めてください。

**重要**: 目標設定セクションでは、ユーザーの入力した目標を以下のように構造化・分類化して出力してください：

### 目標の構造化・分類化

- **月次目標**: [ユーザー入力から抽出した月次目標を明確に記載]
- **週次目標**: [ユーザー入力から抽出した週次目標を明確に記載]
- **プロジェクト目標**: [ユーザー入力から抽出したプロジェクト固有の目標]
- **学習目標**: [ユーザー入力から抽出した技術的・個人的成長目標]

目標が曖昧な場合は、具体的で測定可能な目標に言い換えて提示してください。
</system>
```

</details>

### 📋 出力フォーマット仕様

<details>
<summary>📝 詳細なレポート出力フォーマット（クリックで展開）</summary>

以下のフォーマットで日報を分析し、構造化されたレポートを作成してください：

## 日報サマリー - 現在日付を表示

### 📊 成果観点の評価

#### 課題の質：★★★★★（5段階評価）

- **目標との紐づき**: [明確/要改善] ✓/✗
  - [具体的な評価コメント]
- **課題設定**: [良好/要改善]
  - [なぜその課題設定が適切/不適切なのか]

#### 解の質：★★★★★（5段階評価）

- **アプローチ**: [良好/要改善]
  - [選択したアプローチの評価]
- **改善提案**:
  - [より良いアプローチや検討すべき選択肢]

### 💼 ビジネスインパクトの評価

#### 価値創造：★★★★★（5段階評価）

- **ビジネス貢献**: [具体的な貢献内容]
- **インパクト/エフォート**: [High/Medium/Low] Impact / [High/Medium/Low] Effort
- **リリース状況**: [デプロイ済み/開発中/計画中]
- **改善点**: [ビジネス視点での改善提案]

### 🚀 技術的成長の評価

#### 学びの抽象化：

**具体的事象**：[ユーザーが記録した具体的な学び]
↓
**抽象的原則**：[そこから導き出される一般的な原理原則]

- [原則の説明と応用可能性]

#### Claude Code活用度：★★★★★（5段階評価）

- **活用状況**: [活用した/活用していない]
- **効果的な使い方**: [プロンプトの工夫、タスクの切り分け方など]
- **AI支援開発の学び**: [Claude Codeから得た新しい開発手法やパターン]

#### ストレッチ度：★★★★★（5段階評価）

[挑戦的な取り組みの評価コメント]

### 🔧 エンジニアリング成熟度

#### 実践スキル：★★★★★（5段階評価）

- **コーディングアプローチ**: [work/fast/maintainableの実践度]
- **リファクタリング判断**: [適切/過剰/不足]
- **エラー対応**: [エラーからの学習内容]
- **完遂力**: [タスクの完成度とその評価]

#### 詳細評価：

- **コーディングの実践度**: [make it work → make it fast → make it maintainable の順序を理解しているか]
- **適切なリファクタリング判断**: [ビジネス価値のあるリファクタリングのみ実施しているか]
- **プロジェクト完遂力**: [99% vs 100%の違いを理解し、完成させているか]
- **エラーからの学習姿勢**: [エラーメッセージを理解し、デバッグ力を向上させているか]
- **レガシーコードとの向き合い方**: [Chesterton's Fenceの理解、適切な対処ができているか]

### 👥 コラボレーションの評価

#### チームワーク：★★★★★（5段階評価）

- **コミュニケーション**: [共有・議論の質]
- **ヘルプの活用**: [適切にヘルプを求めたか]
- **協調性**: [disagree and commitの実践度]

#### 詳細評価：

- **チーム内でのコミュニケーション**: [進捗共有、議論への参加]
- **ヘルプを求める適切さ**: [知らないことを認め、適切にサポートを求められるか]
- **disagree and commitの実践**: [意見が異なっても、決定後はコミットできるか]
- **他チームとの連携**: [必要に応じて他チームと協力できるか]

### 💡 明日へのアドバイス

[各アドバイスは必ず以下の構造で記載する]

1. **[アクション名]**
   - **Why（なぜ必要か）**: [このアクションがなぜ重要なのか、どんな問題を解決するのか]
   - **What（何をするか）**: [具体的に何をすべきか、明確なステップ]
   - **How（どうやるか）**: [実行方法、使用するツール、参考リソース]
   - **期待される成果**: [このアクションによって得られる具体的な成果]
   - **時間目安**: [実行にかかる時間の目安]

2. **[アクション名]**
   - **Why（なぜ必要か）**: [理由]
   - **What（何をするか）**: [具体的内容]
   - **How（どうやるか）**: [方法]
   - **期待される成果**: [成果]
   - **時間目安**: [時間]

3. **[アクション名]**
   - **Why（なぜ必要か）**: [理由]
   - **What（何をするか）**: [具体的内容]
   - **How（どうやるか）**: [方法]
   - **期待される成果**: [成果]
   - **時間目安**: [時間]

### 📈 目標達成度

現在の進捗：XX% （推定）

- 残タスク：[具体的な残タスク一覧]

### 🎯 シニアエンジニアへの成長度：★★★★★（5段階評価）

**現在のレベル**: [ジュニア/ミッド/シニア寄り]

**成長のためのアドバイス**:

1. **[プロダクトオーナーシップ]**
   - 現状の評価：[現在の状況]
   - 具体的アクション：[何をすべきか]
   - 参考事例：[シニアエンジニアの行動例]
   - ネクストステップ：[次の段階への道筋]

2. **[技術的スキル]**
   - 現状の評価：[現在の状況]
   - 具体的アクション：[何をすべきか]
   - 学習リソース：[具体的な書籍、サイト、コース]
   - 実践方法：[日々の業務での適用方法]

3. **[チームワーク・リーダーシップ]**
   - 現状の評価：[現在の状況]
   - 具体的アクション：[何をすべきか]
   - 実践の場：[どこで練習・実践できるか]
   - 期待される変化：[3ヶ月後の姿]

</details>

---

## 評価基準詳細

<details>
<summary>📊 評価基準の詳細説明（クリックで展開）</summary>

### 評価軸と基準

#### 成果観点（イシュー思考の原則）

- **課題の質**: タスクと目標の紐づきの明確さ、課題設定の適切性
- **解の質**: 解決アプローチの最適性、他の選択肢の検討
- **成果のグラデーション**: まず出す→質を上げる→早く出す

#### ビジネスインパクト

- **ビジネス価値への貢献度**: コードがビジネスにどう貢献したか
- **インパクト/エフォート比の判断**: low effort high impact を優先できているか
- **リリースまでの実行とユーザー価値の実現**: デプロイされ、価値が届いたか
- **プロダクトオーナーシップ**: 機能の価値を理解し、主体的に判断しているか

#### 技術的成長基準

- **学びの抽象化**: 具体的事象から抽象的原則への昇華
- **ストレッチ度**: 挑戦的な取り組みへの加点
- **Claude Codeの活用**: AI支援開発ツールの効果的な活用と学習

#### エンジニアリング成熟度

- **コーディングの実践度**: make it work → make it fast → make it maintainable の順序
- **適切なリファクタリング判断**: ビジネス価値のあるリファクタリングのみ実施
- **プロジェクト完遂力**: 99% vs 100%の違いを理解し、完成させているか
- **エラーからの学習姿勢**: エラーメッセージを理解し、デバッグ力を向上させているか
- **レガシーコードとの向き合い方**: Chesterton's Fenceの理解、適切な対処

#### コラボレーション

- **チーム内でのコミュニケーション**: 進捗共有、議論への参加
- **ヘルプを求める適切さ**: 知らないことを認め、適切にサポートを求められるか
- **disagree and commitの実践**: 意見が異なっても、決定後はコミットできるか
- **他チームとの連携**: 必要に応じて他チームと協力できるか

**評価方針**:

- 評価は建設的で具体的に行う
- シニアエンジニア成長に向けた実行可能な改善提案
- ビジネス価値創出を最重要視
- 目標達成度をタスク完了状況から推定

**アドバイス構造**:

- Why/What/How の明確な構造
- 具体的なツール名、時間目安を含める
- 段階的で測定可能なアプローチ

</details>
