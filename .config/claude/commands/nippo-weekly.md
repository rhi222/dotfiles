---
title: "Nippo Weekly"
description: "週次振り返りを生成"
---

# 週次振り返りコマンド

> 過去7日間の日報を分析し、週次成長レポートを生成

## 概要

1週間分の日報を集約・分析し、シニアエンジニアとしての週次成長を可視化します。

## 🎯 解決する課題

1. **日々の学びが蓄積されない**
   - 日報は書いているが、週単位での振り返りがない
   - 点の活動が線としてつながらない

2. **成長の実感が得られない**
   - 日々の小さな進歩が見えにくい
   - 週単位での変化を可視化する仕組みがない

3. **戦略的な計画立案の不足**
   - 次週の計画が場当たり的
   - 週次での目標設定と評価サイクルがない

## 入力・出力

| 項目     | パス                                           | 説明                           |
| -------- | ---------------------------------------------- | ------------------------------ |
| **入力** | `~/Obsidian/02_Daily/nippo.YYYY-MM-DD.md`      | 過去7日間の日報ファイル        |
| **参照** | `~/Obsidian/02_Daily/nippo-goals.txt`          | 目標設定ファイル（オプション） |
| **出力** | `~/Obsidian/02_Daily/nippo-weekly.YYYY-Wnn.md` | 週次振り返りレポート           |

## 処理フロー

### 📋 3段階の処理

1. **🔍 Phase 1: データ収集**
   - 過去7日間の日報ファイルを収集
   - 存在確認と読み込み
   - 目標設定ファイルの統合

2. **🤖 Phase 2: AI分析**
   - 週次ハイライトの抽出
   - 5軸評価のトレンド分析
   - 来週のアクションプラン生成

3. **📝 Phase 3: レポート保存**
   - 週次レポートファイルの生成
   - 過去の週次レポート一覧表示

## 前提条件

- `/nippo-add` で日々の日報が記録されていること
- 最低3日分以上の日報が存在すること
- Obsidianディレクトリが存在すること

---

## 実行セクション

### メインスクリプト

```bash
# =============================================================================
# 週次振り返り生成スクリプト
# =============================================================================

!WEEK_START=$(date -d '6 days ago' +%Y-%m-%d) &&
WEEK_END=$(date +%Y-%m-%d) &&
WEEKLY_DIR="$HOME/Obsidian/02_Daily" &&
WEEK_NUM=$(date +%Y-W%V) &&
WEEKLY_FILE="$WEEKLY_DIR/nippo-weekly.$WEEK_NUM.md" &&
NIPPO_DIR="$HOME/Obsidian/02_Daily" &&
GOALS_FILE="$NIPPO_DIR/nippo-goals.txt" && {

    echo "📊 週次振り返り生成"
    echo "週番号: $WEEK_NUM"
    echo "期間: $WEEK_START 〜 $WEEK_END"
    echo ""

    # ==========================================================================
    # Phase 1: データ収集フェーズ
    # ==========================================================================

    echo "🔍 Phase 1: データ収集"
    echo ""

    # 出力ディレクトリ作成
    if [ ! -d "$WEEKLY_DIR" ]; then
        mkdir -p "$WEEKLY_DIR"
        echo "✓ 週次レポートディレクトリを作成: $WEEKLY_DIR"
    fi

    # 日報ファイル収集
    echo "📂 過去7日間の日報を収集中..."
    echo ""

    FOUND_COUNT=0
    MISSING_COUNT=0

    for i in {6..0}; do
        TARGET_DATE=$(date -d "$i days ago" +%Y-%m-%d)
        NIPPO_FILE="$NIPPO_DIR/nippo.$TARGET_DATE.md"

        if [ -f "$NIPPO_FILE" ]; then
            FOUND_COUNT=$((FOUND_COUNT + 1))
            FILE_SIZE=$(wc -c < "$NIPPO_FILE")
            echo "✓ $TARGET_DATE (${FILE_SIZE}バイト)"
            echo "================================"
            cat "$NIPPO_FILE"
            echo ""
            echo ""
        else
            MISSING_COUNT=$((MISSING_COUNT + 1))
            echo "⚠️ $TARGET_DATE: ファイルなし"
            echo ""
        fi
    done

    echo "📊 収集結果: ${FOUND_COUNT}件の日報を発見（${MISSING_COUNT}件なし）"
    echo ""

    # 最低限のファイル数チェック
    if [ "$FOUND_COUNT" -lt 3 ]; then
        echo "❌ エラー: 日報ファイルが3件未満です"
        echo "週次分析には最低3日分の日報が必要です。"
        exit 1
    fi

    # 目標ファイルの読み込み（オプション）
    if [ -f "$GOALS_FILE" ]; then
        echo "🎯 目標設定を読み込み中..."
        echo "================================"
        cat "$GOALS_FILE"
        echo ""
        echo "================================"
        echo ""
    else
        echo "ℹ️  目標ファイルが見つかりません（オプション）"
        echo ""
    fi

    echo "✅ Phase 1 完了: データ収集"
    echo ""

    # ==========================================================================
    # Phase 2: AI分析フェーズ
    # ==========================================================================

    echo "🤖 Phase 2: AI分析"
    echo "Claude Code による週次分析を実行中..."
    echo ""
    echo "週次レポート保存先: $WEEKLY_FILE"
    echo ""

    # ここでClaude Codeによる分析が実行される
    # （システムプロンプトと出力フォーマットは別セクション参照）

    echo "✅ Phase 2 完了: AI分析"
    echo ""

    # ==========================================================================
    # Phase 3: 完了通知
    # ==========================================================================

    echo "📝 Phase 3: レポート保存"
    echo ""

    echo "🎉 週次振り返りが正常に完了しました！"
    echo ""
    echo "📊 結果サマリー:"
    echo "  • 分析対象: ${FOUND_COUNT}日分の日報"
    echo "  • 期間: $WEEK_START 〜 $WEEK_END"
    echo "  • レポート: $WEEKLY_FILE"
    echo "  • 処理時刻: $(date '+%Y年%m月%d日 %H:%M:%S')"
    echo ""

    # 過去の週次レポート一覧
    echo "📅 過去の週次レポート一覧（直近5週分）:"
    echo "--------------------------------"
    ls -lt "$WEEKLY_DIR"/nippo-weekly.*.md 2>/dev/null | head -5 | while read line; do
        filename=$(echo "$line" | awk '{print $NF}')
        week_num=$(basename "$filename" .md | sed 's/nippo-weekly\.//')
        size=$(echo "$line" | awk '{print $5}')
        echo "  📄 $week_num ($size bytes)"
    done || echo "  （過去のレポートはありません）"
    echo ""

    echo "次のステップ:"
    echo "  1. 生成されたレポートを確認"
    echo "  2. 来週のアクションプランを計画に反映"
    echo "  3. 継続的な週次振り返りサイクルの確立"

} || {
    echo "❌ エラーが発生しました"
    exit 1
}
```

---

## AI分析システムプロンプト

```
<system>
あなたは週次成長分析エキスパートです。
過去7日間の「Daily Growth Log」形式の日報を分析し、週次成長レポートを生成してください。

## 入力データ
- 過去7日間の日報（Daily Growth Logフォーマット）
- 目標設定ファイル（オプション）

## 分析の観点

### 1. 週次ハイライト
- 最も重要な3つの成果
- 週を通して達成したマイルストーン

### 2. 重点4軸評価のトレンド分析
- nippo-goals.md の4つの重点軸に対する週次推移
- 週間平均スコアの算出
- 最も進捗した軸と停滞した軸の特定

### 3. 週次学びの統合
- 技術的ブレークスルーの抽出
- 再利用可能な判断パターンの言語化
- チーム・組織への波及効果

### 4. 目標達成度評価
- 設定した目標との照合
- 達成度とギャップの分析

### 5. 来週へのアクションプラン
- 優先度付き3つのアクション
- 各アクションのWhy/What/How/時間見積もり

### 6. 成長トレンド
- 継続的に伸びている要素
- 改善が必要な領域
- 次のステージへの道筋

## 出力要件
- 実行可能で具体的なアクション
- データに基づく客観的な評価
- ポジティブで建設的なフィードバック
</system>
```

## 📋 出力フォーマット仕様

以下のフォーマットで週次成長レポートを作成してください：

```markdown
# 週次振り返りレポート - [週番号]

**期間**: YYYY-MM-DD 〜 YYYY-MM-DD
**分析日**: YYYY-MM-DD

---

## 🎯 今週のハイライト（Top 3）

1. **[成果タイトル]**
   - 詳細: [具体的な成果内容]
   - インパクト: [技術的/ビジネス的価値]

2. **[成果タイトル]**
   - 詳細: [具体的な成果内容]
   - インパクト: [技術的/ビジネス的価値]

3. **[成果タイトル]**
   - 詳細: [具体的な成果内容]
   - インパクト: [技術的/ビジネス的価値]

---

## 📊 重点4軸評価トレンド

> nippo-goals.md の4つの重点軸に対する週次評価

### 週次推移

- 🔀 **サブシステム横断**: [週初] → [週末] [変化]
  - 所見: [進捗ポイントまたは課題]
  - 達成基準との距離: [評価]

- 📅 **予約システム開発**: [週初] → [週末] [変化]
  - 所見: [進捗ポイントまたは課題]
  - 達成基準との距離: [評価]

- 🧠 **ドメイン知識**: [週初] → [週末] [変化]
  - 所見: [進捗ポイントまたは課題]
  - 達成基準との距離: [評価]

- 🏢 **組織課題推進**: [週初] → [週末] [変化]
  - 所見: [進捗ポイントまたは課題]
  - 達成基準との距離: [評価]

**週間平均**: [平均スコア] | **前週比**: [変化]

### 最も進捗した軸

- [軸名]: [進捗要因の分析]

### 停滞している軸

- [軸名]: [停滞要因と来週のアクション]

---

## 💡 統合された学び

### 🔍 技術的ブレークスルー

- [具体的な技術的発見や理解の深化]
- [応用可能性や再利用性]

### 🧠 判断パターンの言語化

- [今週繰り返し使用した判断基準]
- [次回から使える思考フレームワーク]

### 🤝 チーム・組織への影響

- [知識共有やメンタリングの実績]
- [組織への貢献と波及効果]

---

## 🎯 目標達成度評価

### 設定していた目標

- [目標1]: [達成度] - [評価コメント]
- [目標2]: [達成度] - [評価コメント]
- [目標3]: [達成度] - [評価コメント]

### ギャップ分析

- [未達成の要因分析]
- [次週への教訓]

---

## 🚀 来週のアクションプラン

### 優先アクション1: [アクション名]

- **Why**: [なぜ必要か - 目的と背景]
- **What**: [何をするか - 具体的内容]
- **How**: [どうやるか - 実行方法]
- **時間**: [見積もり時間]
- **成果指標**: [何をもって完了とするか]

### 優先アクション2: [アクション名]

- **Why**: [なぜ必要か - 目的と背景]
- **What**: [何をするか - 具体的内容]
- **How**: [どうやるか - 実行方法]
- **時間**: [見積もり時間]
- **成果指標**: [何をもって完了とするか]

### 優先アクション3: [アクション名]

- **Why**: [なぜ必要か - 目的と背景]
- **What**: [何をするか - 具体的内容]
- **How**: [どうやるか - 実行方法]
- **時間**: [見積もり時間]
- **成果指標**: [何をもって完了とするか]

---

## 📈 成長トレンド分析

### 継続的に伸びている要素

- [要素1]: [具体的な成長の証拠]
- [要素2]: [具体的な成長の証拠]

### 改善が必要な領域

- [領域1]: [課題と改善アプローチ]
- [領域2]: [課題と改善アプローチ]

### 次のステージへの道筋

- **現在地**: [現在のレベル評価]
- **次のマイルストーン**: [3週間〜1ヶ月での目標]
- **そのために必要なこと**: [具体的なアクション]

---

## 💭 総括

[今週全体を通しての総合的な所見・メッセージ]

---

**次回の週次振り返り予定**: [来週の日付]
```

---

## 使用例

```bash
# 基本的な使用方法
/nippo-weekly

# 実行結果
# → 過去7日間の日報を収集
# → AI分析を実行
# → ~/Obsidian/02_Daily/nippo-weekly.2026-W02.md に保存
```

---

## 関連コマンド

- `/nippo-add` - 日報への追記
- `/nippo-finalize` - 日報の完成化
- `/nippo-show` - 日報内容の確認
